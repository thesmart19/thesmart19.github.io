!function(){"use strict";function t(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function e(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var n=function(){function n(t){var e=t.className;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.className=e,this.$el=this.getEl(this.className)}var i,s;return i=n,(s=[{key:"getEl",value:function(e){var n,i=function(e){if(Array.isArray(e))return t(e)}(n=document.querySelectorAll(".".concat(e)))||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(n)||function(e,n){if(e){if("string"==typeof e)return t(e,n);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?t(e,n):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();return i.length?1===i.length?i[0]:i:void console.warn("don't find el by className ".concat(e))}},{key:"bem",value:function(t){return this.getEl("".concat(this.className,"__").concat(t))}}])&&e(i.prototype,s),n}();function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var s=function(){function t(e){var i=e.delay;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.STEP=300,this.DELAY=i||5e3,this.successModeClass="success",this.app=new n({className:"app"}),this.phone=new n({className:"phone"}),this.$phoneNumber=this.phone.bem("size-number"),this.phoneMinMax=this.$phoneNumber.dataset.minmax,this.phoneMinMaxArray=this.phoneMinMax.split(","),this.phoneMin=Number(this.phoneMinMaxArray[0]),this.phoneMax=Number(this.phoneMinMaxArray[1]),this.$btn=this.phone.bem("btn"),this.main=new n({className:"main"}),this.$mainDangerTitle=this.main.bem("danger-title"),this.$mainTitle=this.main.bem("title"),this.$mainListTitle=this.main.bem("list-title"),this.$mainListItem=this.main.bem("list-item"),this.steps=["appStep","numberStep","phoneStep","dangerTitleStep","titleStep","titleListStep","listItemStep","btnStep"],this.initNumber(),this.initSteps()}var e,s;return e=t,(s=[{key:"initNumber",value:function(){this.$phoneNumber.innerText=this.phoneMax}},{key:"appStep",value:function(){this.app.$el.classList.add("".concat(this.app.className,"--").concat(this.successModeClass))}},{key:"phoneStep",value:function(){this.phone.$el.classList.add("".concat(this.phone.className,"--").concat(this.successModeClass))}},{key:"dangerTitleStep",value:function(){this.$mainDangerTitle.classList.add("hide")}},{key:"titleStep",value:function(){this.$mainTitle.classList.add("".concat(this.successModeClass))}},{key:"titleListStep",value:function(){this.$mainListTitle.classList.add("".concat(this.successModeClass))}},{key:"btnStep",value:function(){this.$btn.classList.add("".concat(this.successModeClass))}},{key:"listItemStep",value:function(){var t=this;this.$mainListItem.forEach((function(e,n){setTimeout((function(){e.classList.add("".concat(t.successModeClass))}),t.STEP*n)}))}},{key:"numberStep",value:function(){for(var t=this,e=function(e){setTimeout((function(){t.$phoneNumber.innerText=e}),5*e)},n=this.phoneMin;n<this.phoneMax;n++)e(n)}},{key:"initSteps",value:function(){var t=this;this.steps.forEach((function(e,n){setTimeout((function(){setTimeout((function(){t[e]()}),t.STEP*n)}),t.DELAY)}))}}])&&i(e.prototype,s),t}();document.addEventListener("DOMContentLoaded",(function(){new s({delay:5e3})}))}();
